<!DOCTYPE html>
<html>
  <head>
    <title>HighFleet Intercept Course Calculator</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Barlow:wght@500;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:title" content="HighFleet Intercept Course Calculator" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://interceptcourse.app/" />
    <meta
      property="og:description"
      content="An intercept calculator for the video game HighFleet that will give you the best optimal intercept course to the target"
    />
    <meta
      property="og:image"
      content="https://interceptcourse.app/images/og_image.png"
    />
  </head>
  <body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.0/dist/chart.min.js"></script>

    <div class="container">
      <img src="images/logo.png" alt="HighFleet Intercept Calculator" />
      <div class="form-container">
        <div class="form-wrapper">
          <form id="myForm">
            <h2>DATA</h2>
            <!-- Your form fields go here -->
            <div class="required">
              <div class="text">REQUIRED</div>
              <div class="input-wrapper">
                <i class="fa-solid fa-gauge"></i>
                <label for="speed_self">Detachment's Max Speed (km/h):</label>
              </div>
              <input
                type="number"
                id="speed_self"
                name="speed_self"
                placeholder="e.g. 256"
                step="1"
                required
              />

              <div class="input-wrapper">
                <i class="fa-solid fa-gauge"></i>
                <label for="speed_target">Target's Speed (km/h):</label>
              </div>
              <input
                type="number"
                id="speed_target"
                name="speed_target"
                placeholder="e.g. 110"
                required
                step="1"
              />

              <div class="input-wrapper">
                <i class="fa-solid fa-compass"></i>
                <label for="direction_target_from_you"
                  >Direction towards Target (°):</label
                >
              </div>
              <input
                type="number"
                id="direction_target_from_you"
                name="direction_target_from_you"
                placeholder="e.g. 137"
                required
                step="1"
              />

              <div class="input-wrapper">
                <i class="fa-solid fa-compass"></i>
                <label for="direction_target_heading"
                  >Target's Heading (°):</label
                >
              </div>
              <input
                type="number"
                id="direction_target_heading"
                name="direction_target_heading"
                placeholder="e.g. 59"
                required
                step="1"
              />

              <div class="input-wrapper">
                <i class="fa-solid fa-ruler"></i>
                <label for="distance_target">Distance to target (km):</label>
              </div>
              <input
                type="number"
                id="distance_target"
                name="distance_target"
                placeholder="875"
                required
                step="1"
              />
            </div>
            <div class="optional">
              <div class="text">OPTIONAL</div>

              <div class="input-wrapper">
                <i class="fa-solid fa-clock"></i>
                <label for="desired_time"
                  >Desired Time to intercept (hr):</label
                >
              </div>
              <input
                type="number"
                id="desired_time"
                name="desired_time"
                placeholder="e.g. 10"
                step="0.1"
              />
            </div>
            <div class="buttons">
              <button type="submit" class="submit-button">Run</button>
              <button type="reset" id="resetButton" class="clear-button">
                Clear
              </button>
            </div>
          </form>
        </div>
        <div class="results-wrapper">
          <h2>INTERCEPT</h2>
          <div id="resultsContainer">
            <p>
              <strong>WAITING FOR DATA</strong>
            </p>
          </div>
          <h2>VISUAL</h2>
          <div id="interceptChartContainer">
            <canvas id="interceptChart"></canvas>
          </div>
        </div>
      </div>
      <div class="desc">
        <div class="tabs">
          <button class="tablink" onclick="openTab('howToUse')">
            How to Use
          </button>
          <button class="tablink" onclick="openTab('mathContainer')">
            Math Details
          </button>
        </div>
        <div id="howToUse" class="content tab-content">
          <h2>
            <i class="fas fa-lightbulb"></i> How to use
            <i class="fas fa-lightbulb"></i>
          </h2>
          <h3>Introduction</h3>
          <p>Greetings, brave Tarkhan.</p>
          <p>
            Decoded a radio message and uncertain about the next move? Fret not.
          </p>
          <p>
            For a successful <strong>INTERCEPT</strong>, ensure you have the
            target's <strong>location</strong> relative to your position, their
            <strong>heading</strong>, and their <strong>speed</strong>.
          </p>
          <h3>What is this?</h3>
          <p>
            This is an intercept calculator for the video game
            <a
              href="https://store.steampowered.com/app/1434950/HighFleet/"
              title="HighFleet on Steam"
              >HighFleet</a
            >. Plug in data provided by radio decoded messages to calcuate the
            intercept course.
          </p>
          <h3>Steps</h3>
          <ol>
            <li>Input your detachment's max speed. This is a required step.</li>
            <li>Enter the target's speed. This is mandatory.</li>
            <li>
              Determine the target's direction on your compass. Utilize the
              ruler; click on your position and drag to the target's location to
              receive this bearing. This step is compulsory.
            </li>
            <li>
              Input the target's current heading. If the heading is unknown, but
              you're aware of the target's next city destination, use the ruler.
              Click on their current position and drag to their next city
              destination to ascertain the heading. This is an essential step.
            </li>
            <li>
              Indicate the distance between you and the target. The ruler will
              assist in gauging this distance. This is a required step.
            </li>
            <li>
              If you wish, specify a desired time for the intercept. Patience
              can often be a strategic advantage.
            </li>
            <li>
              Click <strong>RUN</strong> to derive the intercept course. Utilize
              the results to set your detachment on an intercept trajectory with
              the target. Remember, if your intercept point is beyond the
              target's next stop, the intercept will fail. The calculator will
              notify you if the intercept isn't feasible.
            </li>
          </ol>
        </div>

        <div id="mathContainer" class="content tab-content">
          <div class="math">
            <h2>
              <i class="fa-solid fa-calculator"></i> Math Details
              <i class="fa-solid fa-calculator"></i>
            </h2>
            <h3>1. Intercept Course Calculation:</h3>
            <p>
              The intercept course blends your bearing towards the target and
              the target's heading. This amalgamation helps in determining the
              optimal heading to successfully intercept the target.
            </p>
            <pre>
<code>
Intercept Course = atan2((targetSpeed * sin(targetHeading)) + (maxSpeed * sin(targetBearing)), 
                         (targetSpeed * cos(targetHeading)) + (maxSpeed * cos(targetBearing)))
</code>
</pre>
            <h3>2. Time to Intercept Calculation:</h3>
            <p>
              The time to intercept is gauged by dividing the distance to the
              target by the closing speed.
            </p>
            <pre>
<code>
Time to Intercept = targetDistance / closingSpeed
</code>
</pre>
            <h3>3. Distance to Intercept Calculation:</h3>
            <p>
              In scenarios where the desired time to intercept isn't provided,
              the distance is essentially the path you'd cover, considering your
              max speed and the time to intercept.
            </p>
            <pre>
<code>
Distance to Intercept = maxSpeed * timeToIntercept
</code>
</pre>
            <h3>4. Required Speed Calculation:</h3>
            <p>
              The required speed depends on the desired time to intercept. If
              provided, the speed needed to intercept the target within the
              specified time is calculated.
            </p>
            <pre>
<code>
Required Speed = Distance to Intercept / desiredTimeToIntercept
</code>
</pre>
            <p>
              If the desired time isn't specified, you're presumed to be moving
              at max speed to intercept the target swiftly.
            </p>
            <pre>
<code>
Required Speed = Distance to Intercept / timeToIntercept
</code>
</pre>
            <p>
              Remember, trigonometric functions in these formulas (like sin,
              cos, atan2) require angles in radians, not degrees. In the script,
              we've utilized helper functions to toggle between degrees and
              radians as necessary.
            </p>
          </div>
        </div>

        <button class="tablink toTop" onclick="backToTop()">BACK TO TOP</button>
      </div>
    </div>

    <footer>
      <div class="footer-container">
        <div class="footer-links">
          <a
            href="https://github.com/frazierzak/Intercept-Calculator"
            target="_blank"
            >Source</a
          >
          <a href="mailto:zakfrazier@gmail.com">Email</a>
          <a
            href="https://store.steampowered.com/app/1434950/HighFleet/"
            target="_blank"
            >Steam</a
          >
        </div>
        <p>&copy; 2023 Zak Frazier. All rights reserved.</p>
      </div>
    </footer>

    <script src="script.js"></script>
  </body>
</html>
